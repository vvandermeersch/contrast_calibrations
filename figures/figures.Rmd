---
title: "figures"
author: "Victor Van der Meersch"
date: "2024-04-17"
output: pdf_document
---

```{r setup, include=FALSE}
wd <- "C:/Users/vandermeersch/Documents/CEFE/projects/contrast_calibrations"

knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE,
                      fig.path= paste0(wd, "/figures/files/"))
chunkhooks::hook_figure_unit("mm")

library(dplyr)
library(data.table)
library(ggplot2)
library(ggpattern)
library(gtools)
library(dplyr)
library(xml2)
library(latex2exp)
library(ggh4x)
library(ggbeeswarm)
library(cowplot)
library(terra)
library(tidyterra)
library(doFuture)
library(future.apply)
library(stringr)
library(tidyr)
library(ModelMetrics)

```

## Figure 1

```{r fig1, fig.height = 65, eval = FALSE}
reload_data_fig1 <- FALSE

source(file.path(wd, "figures", "scripts", "fig1", "boxplot_similarity.R"))
source(file.path(wd, "figures", "scripts", "fig1", "historical_maps.R"))

plot_grid(historical_maps, boxplot_similarity, rel_widths = c(0.7, 0.33), labels = c("", "c."), label_size = 10, vjust = 3)

```

## Figure 2

```{r fig2, fig.height = 100, eval = FALSE}
reload_data_fig2 <- FALSE

source(file.path(wd, "figures", "scripts", "fig2", "boxplot_dates.R"))

plot_grid(endodormancy, ecodormancy, maturation, senescence, labels = c("a.", "b.", "c.", "d."), label_size = 10, vjust = 1.5)


```

\newpage 

## Figure 4

```{r fig4, fig.height = 210}
reload_data_fig4 <- FALSE

source(file.path(wd, "figures", "scripts", "fig4", "load_pheno_data.R"))
source(file.path(wd, "figures", "scripts", "fig4", "leafout_RMSE.R"))
source(file.path(wd, "figures", "scripts", "fig4", "flowering_RMSE.R"))
source(file.path(wd, "figures", "scripts", "fig4", "maturation_RMSE.R"))
source(file.path(wd, "figures", "scripts", "fig4", "senescence_RMSE.R"))

plot_grid(leafout_rmse_boxplots,
          flowering_rmse_boxplots,
          maturation_rmse_boxplots,
          senescence_rmse_boxplots, 
          NULL,
          without_senescence_boxplot, 
          ncol = 1, rel_heights = c(0.6, 0.6, 0.6, 0.6, -0.05, 0.3),
          align = "v", axis = "lr")

```

## Figure 5

```{r fig5, fig.height = 80, eval = FALSE}
reload_data_fig5 <- FALSE

source(file.path(wd, "figures", "scripts", "fig5", "barplot.R"))
source(file.path(wd, "figures", "scripts", "fig5", "parameter_boxplot.R"))


plot_grid(barplot, param_boxplot, labels = c("a.", "b."), label_size = 10)

```

